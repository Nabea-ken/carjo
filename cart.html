<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cart - Carjo</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="scripts.js" defer></script>
</head>
<body>
  <header>
    <h1>Carjo</h1>
    <button class="hamburger" onclick="toggleMenu()">â˜°</button>
    <nav id="navMenu">
      <a href="index.html">Home</a>
      <a href="accessories.html">Accessories</a>
      <a href="spare-parts.html">Spare Parts</a>
      <a href="orders.html">Orders</a>
      <a href="cart.html">Cart</a>
      <a href="login.html">Login</a>
      <a href="blog.html">Blog</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <main class="cart-page">
    <h2>Your Cart</h2>
    <div id="cartItems" class="cart-items">
      <p>Loading cart...</p>
    </div>
    <button id="checkoutBtn" style="display: none;">Checkout</button>
  </main>

  <footer>
    <p>&copy; 2025 Carjo. All rights reserved.</p>
  </footer>

  <script>
    window.addEventListener("load", function () {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const cartItemsDiv = document.getElementById("cartItems");
      const checkoutBtn = document.getElementById("checkoutBtn");

      if (cart.length > 0) {
        cartItemsDiv.innerHTML = cart.map((item, index) => `
          <div class="cart-item">
            <div class="cart-details">
              <strong>${item.name}</strong>
              <p>$${item.price}</p>
            </div>
            <button class="remove-btn" onclick="removeFromCart(${index})">Remove</button>
          </div>
        `).join('');
        checkoutBtn.style.display = "inline-block";
      } else {
        cartItemsDiv.innerHTML = "<p>Your cart is empty.</p>";
      }

      checkoutBtn.addEventListener("click", function () {
        alert("Checkout successful! Thank you.");
        localStorage.removeItem("cart");
        window.location.reload();
      });
    });

    function removeFromCart(index) {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      cart.splice(index, 1);
      localStorage.setItem("cart", JSON.stringify(cart));
      window.location.reload();
    }
  </script>
</body>
</html>
